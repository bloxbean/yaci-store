&nbsp;

# üêõ Yaci Store 2 Beta 1 Issues

**Last updated:** 2025-01-21

This document outlines known issues specific to Yaci Store version 2 Beta 1 release. Most of these issues have been addressed in subsequent beta releases.

---

## üîç Known Issues

### 1. Initial Sync Performance Degradation

**Issue:** Initial blockchain synchronization was significantly slower than expected, particularly for mainnet.

**Symptoms:**
- Sync speeds below 100 blocks/minute
- High CPU usage during initial sync
- Database lock contention

**Resolution:** ‚úÖ **Fixed in 2 Beta 2**
- Improved batch processing algorithms
- Optimized database queries
- Reduced lock contention

---

### 2. Plugin System Initialization Failures

**Issue:** Custom plugins would occasionally fail to initialize properly on startup, causing missing functionality.

**Symptoms:**
- Plugin activation errors in logs
- Missing custom event handlers
- Incomplete data processing

**Resolution:** ‚úÖ **Fixed in 2 Beta 2**
- Improved plugin loading sequence
- Better error handling and reporting
- Added plugin health checks

---

### 3. REST API Rate Limiting Issues

**Issue:** Built-in rate limiting was too aggressive, causing legitimate requests to be throttled.

**Symptoms:**
- HTTP 429 responses for normal usage
- API clients timing out
- Inconsistent request handling

**Workaround (Historical):**
```yaml
# application.yml - No longer needed in newer versions
yaci:
  store:
    api:
      rate-limit:
        enabled: false  # Temporary workaround
```

**Resolution:** ‚úÖ **Fixed in 2 Beta 2**
- Adjusted default rate limits
- Improved rate limiting algorithms
- Added configurable thresholds

---

### 4. Transaction Output Indexing Gaps

**Issue:** Some transaction outputs were not being indexed correctly, leading to incomplete UTXO data.

**Symptoms:**
- Missing UTXOs in API responses
- Inconsistent balance calculations
- Address history gaps

**Resolution:** ‚úÖ **Fixed in 2 Beta 2**
- Corrected UTXO indexing logic
- Added validation checks
- Implemented gap detection and recovery

---

### 5. Memory Usage Spikes During Epoch Boundaries

**Issue:** Significant memory usage spikes occurred during epoch transitions, sometimes causing OOM errors.

**Symptoms:**
- Memory usage doubling at epoch boundaries
- OutOfMemoryError exceptions
- Performance degradation around epoch changes

**Resolution:** ‚úÖ **Fixed in 2 Beta 3**
- Optimized epoch boundary processing
- Implemented streaming for large datasets
- Added memory pressure monitoring

---

## üîß Historical Workarounds

These workarounds were necessary for 2 Beta 1 but are no longer required:

### Database Connection Configuration
```yaml
# No longer needed - fixed in 2 Beta 2
spring:
  datasource:
    hikari:
      connection-timeout: 60000
      validation-timeout: 5000
```

### JVM Memory Settings
```bash
# Aggressive settings that were required for 2 Beta 1
java -Xmx16g -XX:MaxDirectMemorySize=4g -XX:+UseG1GC -jar yaci-store-2-beta-1.jar
```

### Plugin Loading Delays
```yaml
# No longer needed - plugin system improved
yaci:
  store:
    plugins:
      initialization-delay: 30000  # 30 second delay
```

---

## üìä Performance Improvements Since 2 Beta 1

| Metric | 2 Beta 1 | 2 Beta 3 | Improvement |
|--------|----------|----------|-------------|
| Initial Sync Speed | ~80 blocks/min | ~300 blocks/min | **275% faster** |
| Memory Usage (Steady State) | ~8GB | ~4GB | **50% reduction** |
| API Response Time (avg) | ~200ms | ~50ms | **75% faster** |
| Plugin Load Success Rate | ~85% | ~99% | **16% improvement** |
| Database Query Performance | Baseline | 3x faster | **200% improvement** |

---

## üöÄ Migration from 2 Beta 1

If you're still using 2 Beta 1, we **strongly recommend** upgrading to the latest beta version:

### Pre-Migration Checklist
- [ ] **Backup your database** completely
- [ ] **Document custom configurations** and plugins
- [ ] **Test in staging environment** first
- [ ] **Plan for downtime** (typically 2-4 hours for full resync)

### Migration Steps
1. **Stop Yaci Store** service
2. **Backup database** and configuration files
3. **Update application** to latest beta
4. **Review configuration changes** (many workarounds no longer needed)
5. **Start service** and monitor logs
6. **Verify data integrity** with spot checks

### Post-Migration Validation
- [ ] Check API response times
- [ ] Verify plugin functionality
- [ ] Confirm UTXO data completeness
- [ ] Test epoch boundary transitions
- [ ] Monitor memory usage patterns

---

## üìà Lessons Learned

### For Future Beta Testing
1. **Load testing** is crucial for blockchain indexers
2. **Memory profiling** should be continuous during development
3. **Plugin architecture** needs robust error handling
4. **Database optimization** cannot be an afterthought

### Community Feedback Integration
- **Performance metrics** from community deployments were invaluable
- **Real-world usage patterns** exposed edge cases
- **Plugin developer feedback** improved the extensibility framework

---

## üèÜ Community Recognition

Special thanks to early adopters who provided feedback on 2 Beta 1 issues:

- **DeFi Protocol Teams** - For identifying UTXO indexing gaps
- **Exchange Integrators** - For uncovering API rate limiting issues  
- **Academic Researchers** - For memory usage pattern analysis
- **Plugin Developers** - For initialization sequence improvements

---

## üìö Additional Resources

- [Migration Guide from 2 Beta 1](/docs/v2.0.0/gettingStarted/migration)
- [Performance Tuning Guide](/docs/v2.0.0/advancedConfigurations/performance)
- [Beta Testing Best Practices](/docs/v2.0.0/tutorialsAndUseCases/beta-testing)
- [GitHub Release Notes](https://github.com/bloxbean/yaci-store/releases/tag/v2.0.0-beta.1)

---

*This document serves as a historical record of 2 Beta 1 issues and demonstrates the significant improvements made in subsequent releases.*