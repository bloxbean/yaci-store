&nbsp;

# üêõ Yaci Store 2 Beta 3 Issues

**Last updated:** 2025-01-21

This document outlines known issues specific to Yaci Store version 2 Beta 3 release.

---

## üîç Known Issues

### 1. Database Connection Pool Exhaustion

**Issue:** Under heavy load, the database connection pool may become exhausted, causing new requests to timeout.

**Symptoms:**
- Connection timeout errors in logs
- Slow API response times
- HTTP 500 errors during peak usage

**Workaround:**
```yaml
# application.yml
spring:
  datasource:
    hikari:
      maximum-pool-size: 50
      connection-timeout: 20000
      idle-timeout: 300000
```

**Status:** üîÑ Fix planned for 2 Beta 4

---

### 2. Memory Leak in Event Processing

**Issue:** Long-running instances may experience memory leaks during event processing, particularly with large transaction volumes.

**Symptoms:**
- Gradually increasing memory usage
- OutOfMemoryError after extended operation
- GC pressure warnings

**Workaround:**
```bash
# Increase JVM memory and enable G1GC
java -Xmx8g -Xms4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -jar yaci-store.jar
```

**Status:** üîÑ Investigation ongoing

---

### 3. Governance Data Indexing Delays

**Issue:** Governance proposals and voting data may experience indexing delays of 1-2 epochs during network congestion.

**Symptoms:**
- Delayed governance action visibility
- Inconsistent voting power calculations
- Missing proposal metadata

**Workaround:**
- Monitor epoch boundaries closely
- Implement retry mechanisms in applications
- Cross-reference with multiple data sources

**Status:** üîÑ Performance optimization in progress

---

### 4. Native Asset Metadata Caching Issues

**Issue:** Native asset metadata may not update correctly when policies are updated, leading to stale information.

**Symptoms:**
- Outdated asset metadata displayed
- Incorrect token names or descriptions
- Missing policy updates

**Workaround:**
```bash
# Clear metadata cache
curl -X DELETE http://localhost:8080/api/v1/metadata/cache/clear
```

**Status:** üîÑ Caching strategy revision scheduled

---

## üõ†Ô∏è General Recommendations

### For Production Deployments
1. **Monitor memory usage** closely and restart instances if memory growth is observed
2. **Use external monitoring** tools like Prometheus/Grafana
3. **Implement circuit breakers** for API calls
4. **Set up automated alerts** for connection pool exhaustion

### For Development
1. **Use smaller datasets** for testing to avoid memory issues
2. **Enable debug logging** for connection pool monitoring
3. **Test governance scenarios** thoroughly before production

---

## üö® Critical Actions Required

### Before Upgrading from 2 Beta 2
- [ ] Backup your database
- [ ] Review connection pool settings
- [ ] Plan for potential downtime during governance data reindexing
- [ ] Update monitoring thresholds

### After Upgrading to 2 Beta 3
- [ ] Monitor memory usage patterns
- [ ] Verify governance data accuracy
- [ ] Test native asset metadata refresh
- [ ] Validate API response times under load

---

## üìû Support and Reporting

If you encounter these or other issues:

1. **Check the logs** for specific error messages
2. **Gather system metrics** (CPU, memory, disk usage)
3. **Report via GitHub Issues** with complete reproduction steps
4. **Include environment details** (OS, Java version, database type)

### Issue Template
```
**Version:** Yaci Store 2 Beta 3
**Environment:** [Production/Development/Testing]
**Database:** [PostgreSQL/H2]
**Java Version:** [e.g., OpenJDK 21]
**OS:** [e.g., Ubuntu 22.04]

**Issue Description:**
[Detailed description of the problem]

**Steps to Reproduce:**
1. [Step 1]
2. [Step 2]
3. [Step 3]

**Expected Behavior:**
[What should happen]

**Actual Behavior:**
[What actually happens]

**Logs/Errors:**
```
[Include relevant log excerpts]
```

**Additional Context:**
[Any other relevant information]
```

---

## üîÑ Changelog Integration

These issues are tracked in the [GitHub Issues](https://github.com/bloxbean/yaci-store/issues) and will be addressed in upcoming releases. Check the [Changelogs](/docs/v2.0.0/changelogs) for updates on fixes and improvements.