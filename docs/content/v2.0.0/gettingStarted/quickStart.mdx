&nbsp;

# 🚀 Quick Start Guide

Get up and running with Yaci Store v2.0.0-beta3 in under 10 minutes. This guide covers the essential setup steps and configuration options for both new installations and upgrades from beta1.

<div style={{
  background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%)',
  padding: '1rem',
  borderRadius: '8px',
  border: '1px solid rgba(34, 197, 94, 0.2)',
  marginBottom: '1.5rem'
}}>

💡 **New in v2.0.0-beta3**: This guide includes the latest improvements including **extended epoch support**, **monitoring capabilities**, and **enhanced ledger state accuracy**.

**Upgrading from beta1?** See the [Migration Section](#migration-from-beta1) below.

</div>

---

## 🎯 Distribution Options

Choose the deployment method that best fits your needs:

| Distribution | Best For | Setup Time | Features |
|-------------|----------|------------|----------|
| **🐳 Docker** | Production, Development | 5 minutes | Full stack, monitoring included |
| **📦 ZIP** | Custom deployments | 10 minutes | Flexible configuration |
| **⚡ Native** | High performance | 15 minutes | Platform-specific optimization |

---

## 🐳 Docker Distribution (Recommended)

### Quick Setup

```bash
# Clone the repository
git clone https://github.com/bloxbean/yaci-store.git
cd yaci-store/docker

# Choose your configuration
cp env.example env
cp application.properties.example application.properties

# Start with monitoring (beta3 feature)
docker-compose -f yaci-store-monolith.yml up -d
```

### Configuration Files

#### Environment Variables (`env`)

```bash
# Java configuration (optimized for beta3)
JAVA_OPTS=-Xms2g -Xmx6g -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# Network selection (beta3 extended support)
CARDANO_NETWORK=mainnet  # mainnet, preprod, preview

# Database configuration
POSTGRES_DB=yaci_store
POSTGRES_USER=yaci
POSTGRES_PASSWORD=changeme

# Monitoring (new in beta3)
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_PROMETHEUS_ENABLED=true
```

#### Application Properties (`application.properties`)

```properties
# Cardano Node Connection (beta3 optimized)
store.cardano.host=localhost
store.cardano.port=1337
store.cardano.protocol-magic=764824073

# Network Configuration (beta3 extended epochs)
# Mainnet: Supports up to epoch 569
# Preprod: Supports up to epoch 227  
# Preview: Supports up to epoch 989
store.cardano.network=mainnet

# Database Configuration
spring.datasource.url=jdbc:postgresql://postgres:5432/yaci_store
spring.datasource.username=yaci
spring.datasource.password=changeme

# Ledger State Configuration (beta3 enhanced)
store.ledger-state.enabled=true
store.ledger-state.calculation-enabled=true
store.ledger-state.rewards-calculation=true

# Governance Tracking (new in beta3)
store.governance.enabled=true
store.governance.proposal-tracking=true
store.governance.drep-distribution=true

# Store Configuration
store.blocks.enabled=true
store.transactions.enabled=true
store.utxo.enabled=true
store.assets.enabled=true
store.metadata.enabled=true
store.governance.enabled=true
store.rewards.enabled=true

# Monitoring (beta3 feature)
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.prometheus.enabled=true
management.endpoint.health.show-details=always

# Performance Tuning (beta3 optimizations)
store.parallel-write=true
store.batch-size=50
store.use-parallel-processing=true
```

### Docker Compose with Monitoring (beta3)

```yaml
version: '3.8'

services:
  # PostgreSQL Database
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: yaci_store
      POSTGRES_USER: yaci
      POSTGRES_PASSWORD: changeme
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    command: >
      postgres -c shared_buffers=256MB
               -c effective_cache_size=1GB
               -c maintenance_work_mem=64MB
               -c checkpoint_completion_target=0.7

  # Yaci Store Application
  yaci-store:
    image: bloxbean/yaci-store:2.0.0-beta3
    depends_on:
      - postgres
    ports:
      - "8080:8080"
    env_file:
      - env
    volumes:
      - ./application.properties:/app/config/application.properties
    environment:
      # Enhanced governance tracking (beta3)
      STORE_GOVERNANCE_ENABLED: "true"
      STORE_GOVERNANCE_PROPOSAL_TRACKING: "true"
      
      # Monitoring endpoints (beta3)
      MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: "health,info,metrics,prometheus"
      MANAGEMENT_ENDPOINT_PROMETHEUS_ENABLED: "true"

  # Prometheus (beta3 monitoring)
  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--storage.tsdb.retention.time=30d'

  # Grafana (beta3 monitoring)
  grafana:
    image: grafana/grafana:latest
    ports:
      - "3000:3000"
    environment:
      GF_SECURITY_ADMIN_PASSWORD: admin
    volumes:
      - grafana_data:/var/lib/grafana

volumes:
  postgres_data:
  prometheus_data:
  grafana_data:
```

---

## 📦 ZIP Distribution

### Download and Setup

```bash
# Download latest beta3 release
wget https://github.com/bloxbean/yaci-store/releases/download/v2.0.0-beta3/yaci-store-2.0.0-beta3.zip

# Extract
unzip yaci-store-2.0.0-beta3.zip
cd yaci-store-2.0.0-beta3

# Setup database (PostgreSQL required)
createdb yaci_store

# Configure application
cp config/application.properties.example config/application.properties
```

### Configuration (`config/application.properties`)

```properties
# Database Connection
spring.datasource.url=jdbc:postgresql://localhost:5432/yaci_store
spring.datasource.username=postgres
spring.datasource.password=your_password

# Cardano Node (Ogmios recommended for beta3)
store.cardano.host=localhost
store.cardano.port=1337
store.cardano.network=mainnet

# Ledger State (beta3 enhanced accuracy)
store.ledger-state.enabled=true
store.ledger-state.rewards-calculation=true
store.ledger-state.governance-calculation=true

# Extended Epoch Support (beta3)
# Mainnet: Up to epoch 569
# Preprod: Up to epoch 227
# Preview: Up to epoch 989
store.epoch-validation.mainnet-max=569
store.epoch-validation.preprod-max=227
store.epoch-validation.preview-max=989

# Governance Features (beta3)
store.governance.enabled=true
store.governance.proposal-tracking=true
store.governance.drep-distribution=true
store.governance.treasury-reserves=true

# Monitoring (beta3)
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.prometheus.enabled=true
server.port=8080

# Performance (beta3 optimizations)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
store.parallel-processing.enabled=true
```

### Running the Application

```bash
# Start with monitoring enabled (beta3)
java -Xms2g -Xmx8g -XX:+UseG1GC \
  -jar yaci-store-app-2.0.0-beta3.jar \
  --spring.config.location=classpath:/,file:config/

# With custom JVM options for production
java -Xms4g -Xmx12g \
  -XX:+UseG1GC \
  -XX:MaxGCPauseMillis=200 \
  -XX:+UseStringDeduplication \
  -Dspring.profiles.active=prod \
  -jar yaci-store-app-2.0.0-beta3.jar
```

---

## ⚡ Native Distribution (GraalVM)

### Download Native Binary

```bash
# Linux x64
wget https://github.com/bloxbean/yaci-store/releases/download/v2.0.0-beta3/yaci-store-linux-x64

# macOS (Intel)
wget https://github.com/bloxbean/yaci-store/releases/download/v2.0.0-beta3/yaci-store-macos-x64

# macOS (Apple Silicon)
wget https://github.com/bloxbean/yaci-store/releases/download/v2.0.0-beta3/yaci-store-macos-aarch64

# Make executable
chmod +x yaci-store-*
```

### Configuration

Create `application.properties`:

```properties
# Optimized for native binary (beta3)
spring.datasource.url=jdbc:postgresql://localhost:5432/yaci_store
spring.datasource.username=yaci
spring.datasource.password=changeme

# Network configuration
store.cardano.host=localhost
store.cardano.port=1337
store.cardano.network=mainnet

# Native optimizations (beta3)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Governance and monitoring (beta3)
store.governance.enabled=true
management.endpoints.web.exposure.include=health,metrics,prometheus
```

### Running Native Binary

```bash
# Start native application
./yaci-store-linux-x64 --spring.config.location=file:application.properties

# With monitoring
./yaci-store-linux-x64 \
  --spring.config.location=file:application.properties \
  --management.endpoints.web.exposure.include=health,info,metrics,prometheus
```

---

## 🔄 Migration from beta1

### Database Migration

```bash
# Backup existing database
pg_dump yaci_store > yaci_store_beta1_backup.sql

# Apply beta3 migrations (automatic)
# The application will auto-migrate on startup
```

### Configuration Updates

#### Add New Properties (beta3)

```properties
# Add to existing application.properties

# Enhanced governance tracking
store.governance.enabled=true
store.governance.proposal-tracking=true
store.governance.drep-distribution=true

# Monitoring endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.prometheus.enabled=true

# Extended epoch support (automatic)
# No manual configuration needed - automatically supports:
# Mainnet: Up to epoch 569 (vs 546 in beta1)
# Preprod: Up to epoch 227
# Preview: Up to epoch 989
```

#### Remove Deprecated Properties (beta1)

```properties
# Remove these from beta1 configurations
# store.legacy-governance=true  # Removed in beta3
# store.basic-monitoring=true   # Replaced with Prometheus
```

### Verification Steps

```bash
# 1. Check application health
curl http://localhost:8080/actuator/health

# 2. Verify extended epoch support
curl http://localhost:8080/actuator/health | jq .components.epochSupport

# 3. Check governance features (beta3)
curl http://localhost:8080/actuator/metrics/yaci_store_governance_proposals_total

# 4. Verify monitoring endpoints
curl http://localhost:8080/actuator/prometheus | grep yaci_store
```

---

## 🔍 Verification and Testing

### Health Checks

```bash
# Application health
curl http://localhost:8080/actuator/health

# Database connectivity
curl http://localhost:8080/actuator/health/db

# Cardano node connection
curl http://localhost:8080/actuator/health/cardano

# Governance features (beta3)
curl http://localhost:8080/actuator/health/governance
```

### API Testing

```bash
# Check latest block
curl http://localhost:8080/api/v1/blocks/latest

# Check epoch information
curl http://localhost:8080/api/v1/epochs/current

# Governance data (beta3)
curl http://localhost:8080/api/v1/governance/proposals

# Treasury and reserves (beta3 enhanced)
curl http://localhost:8080/api/v1/governance/treasury
```

### Performance Metrics (beta3)

```bash
# Prometheus metrics
curl http://localhost:8080/actuator/prometheus

# Sync status
curl http://localhost:8080/actuator/metrics/yaci_store_sync_lag_seconds

# Block processing rate
curl http://localhost:8080/actuator/metrics/yaci_store_blocks_processed_total
```

---

## 🐛 Troubleshooting

### Common Issues

| Issue | Symptom | Solution |
|-------|---------|----------|
| **Sync lag increasing** | `yaci_store_sync_lag_seconds` > 300 | Check Cardano node connectivity |
| **Governance data missing** | No governance metrics | Ensure `store.governance.enabled=true` |
| **Memory issues** | OutOfMemoryError | Increase heap: `-Xmx8g` or higher |
| **Database slow** | High query times | Tune PostgreSQL configuration |

### Beta3 Specific Checks

```bash
# Verify governance features
curl http://localhost:8080/api/v1/governance/drep-distribution

# Check extended epoch support
curl http://localhost:8080/api/v1/epochs/569  # Should work on mainnet

# Monitor accuracy improvements
curl http://localhost:8080/actuator/metrics/yaci_store_accuracy_percentage
```

---

## 📈 Performance Optimization

### Recommended Settings (beta3)

```properties
# JVM Tuning
JAVA_OPTS=-Xms4g -Xmx12g -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# Database Connection Pool
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# Batch Processing (beta3 optimized)
store.batch-size=100
store.parallel-processing.enabled=true
store.parallel-processing.threads=4

# Governance Performance (beta3)
store.governance.batch-size=50
store.governance.cache-enabled=true
```

### Monitoring Performance (beta3)

```bash
# Setup Grafana dashboard
docker-compose up grafana

# Access dashboards
open http://localhost:3000  # admin/admin

# Key metrics to monitor:
# - yaci_store_blocks_processed_total
# - yaci_store_sync_lag_seconds  
# - yaci_store_governance_accuracy_percentage
# - jvm_memory_used_bytes
```

---

> 🎯 **Next Steps**: 
> - Configure [Monitoring](/advancedConfigurations/monitoring) for production
> - Review [Known Issues](/knownIssues/ledgerStateMismatch/2-beta-3) for current status
> - Join the [Discord Community](https://discord.gg/cardano-developers) for support
> - Check [API Documentation](/apis/apiList) for integration examples