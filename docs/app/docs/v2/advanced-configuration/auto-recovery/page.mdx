import { Callout } from 'nextra/components'

# Auto-Recovery Service

In addition to the auto-restart feature, yaci-store provides an auto-recovery service that monitors the overall health of the sync process and triggers restarts when health issues are detected.

The auto-recovery service performs periodic health checks and publishes restart events when:
- Connection to the Cardano node is not alive
- Sync process is in an error state
- General sync health problems are detected

```properties
# Auto-recovery service configuration (disabled by default)
store.admin.auto-recovery-enabled=false
store.admin.health-check-interval=120
```

## Configuration Options

- **`store.admin.auto-recovery-enabled`** (default: `false`): Enable or disable the auto-recovery service
- **`store.admin.health-check-interval`** (default: `120`): Health check interval in seconds

## How Auto-Recovery Works

The auto-recovery service:
1. **Periodic Health Monitoring**: Runs health checks at the configured interval
2. **Connection Monitoring**: Checks if the connection to the Cardano node is alive
3. **Error Detection**: Monitors for sync errors and problematic states
4. **Event Publishing**: Publishes restart events that are handled by the auto-restart system

<Callout>
The auto-recovery service is disabled by default. It should only be enabled in environments where you want comprehensive health monitoring beyond just IntersectionNotFound errors. When enabled, it works together with the auto-restart system to provide robust sync reliability.
</Callout>

## Relationship Between Auto-Restart and Auto-Recovery

- **Auto-Restart**: Always enabled by default, handles specific recoverable errors like IntersectionNotFound
- **Auto-Recovery**: Disabled by default, provides broader health monitoring and triggers restarts for general health issues
- Both systems work together through the same event-driven architecture
- Auto-recovery publishes events that are processed by the auto-restart system's backpressure controls
