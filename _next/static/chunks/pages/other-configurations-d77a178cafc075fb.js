(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{1193:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/other-configurations",function(){return t(6654)}])},6654:function(e,n,t){"use strict";t.r(n),t.d(n,{__toc:function(){return c}});var i=t(5893),o=t(2673),a=t(2169),r=t(2069);t(9488);var s=t(2643),l=t(2154);let c=[{depth:2,value:"Other configurations",id:"other-configurations"},{depth:3,value:"Pruning Configuration",id:"pruning-configuration"},{depth:4,value:"Utxo Pruning",id:"utxo-pruning"},{depth:4,value:"Transaction Pruning",id:"transaction-pruning"},{depth:2,value:"Auto Sync off",id:"auto-sync-off"},{depth:2,value:"Store specific application",id:"store-specific-application"}];function d(e){let n=Object.assign({h2:"h2",p:"p",code:"code",h3:"h3",ul:"ul",li:"li",strong:"strong",h4:"h4",pre:"pre",span:"span"},(0,s.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"other-configurations",children:"Other configurations"}),"\n",(0,i.jsxs)(n.p,{children:["Each store implementation in yaci-store has its own configuration options. We will try to highlight a few key configurations here.\nThese store-specific configurations can be set in the ",(0,i.jsx)(n.code,{children:"application.properties"})," file."]}),"\n",(0,i.jsx)(n.h3,{id:"pruning-configuration",children:"Pruning Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Sometimes you may not want to store all historical data in a store. If you are using yaci-store as a library, you can customize it\nto only store specific data in your own custom storage implementation. However, if you want to delete historical data from a store database, you can use the pruning configuration."}),"\n",(0,i.jsx)(n.p,{children:"Currently, pruning configuration is only supported for the following stores. In the future, we will add support for other stores as well."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"utxo"}),"\n",(0,i.jsx)(n.li,{children:"transaction"}),"\n"]}),"\n",(0,i.jsx)(l.UW,{children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"By default, pruning is disabled for all stores."})})}),"\n",(0,i.jsx)(n.h4,{id:"utxo-pruning",children:"Utxo Pruning"}),"\n",(0,i.jsxs)(n.p,{children:["To enable utxo pruning, you can set the following configurations in the ",(0,i.jsx)(n.code,{children:"application.properties"})," file."]}),"\n",(0,i.jsx)(n.pre,{"data-language":"properties","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"properties","data-theme":"default",children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.utxo.pruning-enabled="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"true"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.utxo.pruning.interval="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"600"})]})]})}),"\n",(0,i.jsx)(n.p,{children:"The above configuration will run utxo pruning every 600 seconds."}),"\n",(0,i.jsxs)(n.p,{children:["There is also another configuration, ",(0,i.jsx)(n.code,{children:"store.utxo.pruning-safe-blocks"}),", which can be used to specify the number of safe blocks to keep in the store.\nBy default, this is set to 2160 blocks, same as the security parameter in Cardano mainnet."]}),"\n",(0,i.jsx)(n.h4,{id:"transaction-pruning",children:"Transaction Pruning"}),"\n",(0,i.jsxs)(n.p,{children:["To enable transaction pruning, you can set the following configurations in the ",(0,i.jsx)(n.code,{children:"application.properties"})," file."]}),"\n",(0,i.jsx)(n.pre,{"data-language":"properties","data-theme":"default",children:(0,i.jsxs)(n.code,{"data-language":"properties","data-theme":"default",children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.transaction.pruning-enabled="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"true"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.transaction.pruning.interval="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"86400"})]})]})}),"\n",(0,i.jsx)(n.p,{children:"The above configuration will run transaction pruning every 86400 seconds or 1 day."}),"\n",(0,i.jsx)(n.h2,{id:"auto-sync-off",children:"Auto Sync off"}),"\n",(0,i.jsx)(n.p,{children:"Ideally, you should only have one write instance of yaci-store. However, if you want to set up multiple read-only yaci-store instances alongside one write instance,\nyou can disable auto-sync in the read-only instances. This way, the read-only instances will only read from the database and not write to it."}),"\n",(0,i.jsx)(n.pre,{"data-language":"properties","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"properties","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.sync-auto-start="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"false"})]})})}),"\n",(0,i.jsx)(n.h2,{id:"store-specific-application",children:"Store specific application"}),"\n",(0,i.jsx)(n.p,{children:"Yaci Store bundles all stores by default, and you can enable or disable stores by setting a store-specific enable flag in the application.properties file.\nThis makes it possible to have multiple instances of yaci-store with different stores enabled. These individual instances can write to their own separate databases with the default configuration."}),"\n",(0,i.jsxs)(n.p,{children:["However, if you want to have multiple store-specific yaci-store applications writing to the same database, each application needs to maintain its own ",(0,i.jsx)(n.strong,{children:"cursor"})," in the ",(0,i.jsx)(n.code,{children:"cursor_"})," table."]}),"\n",(0,i.jsxs)(n.p,{children:["This is achievable by assigning a unique event publisher ID to each yaci-store application. This can be done by setting the following configuration in each application's ",(0,i.jsx)(n.code,{children:"application.properties"})," file."]}),"\n",(0,i.jsx)(n.pre,{"data-language":"properties","data-theme":"default",children:(0,i.jsx)(n.code,{"data-language":"properties","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"store.event-publisher-id="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"1000  //some unique id"})]})})})]})}let u={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.a)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)},pageOpts:{filePath:"pages/other-configurations.mdx",route:"/other-configurations",timestamp:1721213985e3,pageMap:[{kind:"Meta",data:{index:"Overview",design:"Design",docker:"Docker",build_run:"Build & Run",usage:{title:"Usage"},stores:"Stores",about:{title:"About",type:"page"},"other-configurations":"Other Configurations"}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"MdxPage",name:"build_run",route:"/build_run"},{kind:"MdxPage",name:"design",route:"/design"},{kind:"MdxPage",name:"docker",route:"/docker"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"other-configurations",route:"/other-configurations"},{kind:"Folder",name:"stores",route:"/stores",children:[{kind:"MdxPage",name:"overview",route:"/stores/overview"},{kind:"Meta",data:{overview:"Overview"}}]},{kind:"Folder",name:"usage",route:"/usage",children:[{kind:"Meta",data:{"getting-started-as-library":"As Library","getting-started-out-of-box":"Out of Box Indexers","aggregation-app-getting-started":"Aggregation App (Account Balance)"}},{kind:"MdxPage",name:"aggregation-app-getting-started",route:"/usage/aggregation-app-getting-started"},{kind:"MdxPage",name:"getting-started-as-library",route:"/usage/getting-started-as-library"},{kind:"MdxPage",name:"getting-started-out-of-box",route:"/usage/getting-started-out-of-box"}]}],flexsearch:{codeblocks:!0},title:"Other Configurations",headings:c},pageNextRoute:"/other-configurations",nextraLayout:a.ZP,themeConfig:r.Z};n.default=(0,o.j)(u)},2069:function(e,n,t){"use strict";var i=t(5893);t(7294);let o={logo:(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"Yaci Store"})}),project:{link:"https://github.com/bloxbean/yaci-store"},chat:{link:"https://discord.gg/JtQ54MSw6p"},docsRepositoryBase:"https://github.com/bloxbean/yaci-store/tree/main/docs",footer:{text:"\xa9 2024 BloxBean project"},useNextSeoProps:()=>({titleTemplate:"%s â€“ Yaci Store"}),head:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"description",content:"Yaci Store - A modular Java library for developers who are keen on building their own custom indexer for Cardano"}),(0,i.jsx)("meta",{property:"og:title",content:"Yaci Store - A modular Java library for developers who are keen on building their own custom indexer for Cardano"}),(0,i.jsx)("meta",{property:"og:description",content:"Yaci Store - A modular Java library for developers who are keen on building their own custom indexer for Cardano"})]})};n.Z=o},5789:function(){}},function(e){e.O(0,[942,888,774,179],function(){return e(e.s=1193)}),_N_E=e.O()}]);